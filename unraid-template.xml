<?xml version="1.0"?>
<Container version="2">
  <Name>Broadcaster</Name>
  <Repository>theodoreroddy/broadcaster:latest</Repository>
  <Registry>https://hub.docker.com/</Registry>
  <Network>bridge</Network>
  <MyIP/>
  <Shell>bash</Shell>
  <Privileged>false</Privileged>
  <Support>https://github.com/theodoreroddy/Broadcaster/issues</Support>
  <Project>https://github.com/theodoreroddy/Broadcaster</Project>
  <Overview>Broadcaster generates and hosts HTTP Live Streams from local content using FFMpeg with NVIDIA GPU hardware acceleration. Create your own 24/7 TV channels from your media library with a retro CRT-style web interface.</Overview>
  <Category>MediaApp:Video</Category>
  <WebUI>http://[IP]:[PORT:12121]/</WebUI>
  <TemplateURL>https://raw.githubusercontent.com/theodoreroddy/Broadcaster/master/unraid-template.xml</TemplateURL>
  <Icon>https://raw.githubusercontent.com/theodoreroddy/Broadcaster/master/icon.png</Icon>
  <ExtraParams>--runtime=nvidia</ExtraParams>
  <PostArgs/>
  <CPUset/>
  <DateInstalled/>
  <DonateText/>
  <DonateLink/>
  <Requires/>
  <Config Name="WebUI Port" Target="12121" Default="12121" Mode="tcp" Description="Web interface port" Type="Port" Display="always" Required="true" Mask="false">12121</Config>
  <Config Name="Data Directory" Target="/data" Default="/mnt/user/appdata/broadcaster" Mode="rw" Description="Storage for HLS streams, config files (channels.json, config.txt), and logs" Type="Path" Display="always" Required="true" Mask="false">/mnt/user/appdata/broadcaster</Config>
  <Config Name="Media Directory" Target="/media" Default="/mnt/user/media" Mode="ro" Description="Your media files (movies, TV shows, etc.)" Type="Path" Display="always" Required="true" Mask="false">/mnt/user/media</Config>
  <Config Name="NVIDIA GPU ID" Target="NVIDIA_VISIBLE_DEVICES" Default="0" Mode="" Description="GPU ID to use (0 for first GPU, or 'all' for all GPUs). Run 'nvidia-smi' to see available GPUs." Type="Variable" Display="always" Required="true" Mask="false">0</Config>
  <Config Name="NVIDIA Driver Capabilities" Target="NVIDIA_DRIVER_CAPABILITIES" Default="all" Mode="" Description="NVIDIA driver capabilities (leave as 'all')" Type="Variable" Display="always" Required="true" Mask="false">all</Config>
  <Config Name="Video Codec" Target="VIDEO_CODEC" Default="h264_nvenc" Mode="" Description="Video encoder: h264_nvenc (NVIDIA GPU), libx264 (CPU)" Type="Variable" Display="advanced" Required="false" Mask="false">h264_nvenc</Config>
  <Config Name="Video Quality (CRF)" Target="VIDEO_CRF" Default="23" Mode="" Description="Video quality: 18-28 (lower = better quality, 23 recommended)" Type="Variable" Display="advanced" Required="false" Mask="false">23</Config>
  <Config Name="Video Preset" Target="VIDEO_PRESET" Default="p4" Mode="" Description="Encoding speed vs quality: p1 (fastest) to p7 (slowest/best), p4 recommended" Type="Variable" Display="advanced" Required="false" Mask="false">p4</Config>
  <Config Name="Resolution" Target="DIMENSIONS" Default="640x480" Mode="" Description="Output resolution (e.g., 640x480, 1280x720, 1920x1080)" Type="Variable" Display="advanced" Required="false" Mask="false">640x480</Config>
  <Config Name="HLS Segment Length" Target="HLS_SEGMENT_LENGTH_SECONDS" Default="1" Mode="" Description="Length of each HLS segment in seconds (1-10, lower = faster channel switching)" Type="Variable" Display="advanced" Required="false" Mask="false">1</Config>
  <Config Name="Audio Codec" Target="AUDIO_CODEC" Default="aac" Mode="" Description="Audio codec (aac recommended)" Type="Variable" Display="advanced" Required="false" Mask="false">aac</Config>
  <Config Name="Audio Bitrate" Target="AUDIO_BITRATE" Default="128k" Mode="" Description="Audio bitrate (64k, 128k, 192k, 256k)" Type="Variable" Display="advanced" Required="false" Mask="false">128k</Config>
  <Config Name="Supported Formats" Target="SUPPORTED_FORMATS" Default="mov,mp4,mkv,avi,ts,m2ts,webm,divx,mpg" Mode="" Description="Comma-separated list of video file formats to process" Type="Variable" Display="advanced" Required="false" Mask="false">mov,mp4,mkv,avi,ts,m2ts,webm,divx,mpg</Config>
  <Config Name="Log Level" Target="LOG_LEVEL" Default="verbose" Mode="" Description="Logging level: verbose or silent" Type="Variable" Display="advanced" Required="false" Mask="false">verbose</Config>
</Container>
